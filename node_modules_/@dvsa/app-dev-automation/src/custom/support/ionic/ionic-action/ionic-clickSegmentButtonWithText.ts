import checkIfElementExists from '../../../../boilerplate/support/lib/checkIfElementExists';
import { getElementByReference } from '../../../../helpers/element-reference-helper';

/**
 * Perform an click action on the given element
 * @param  {String} selector Element selector
 */
export default async (
  selector: string,
  text: string,
) => {
  const textSelector = `//ion-segment-button[normalize-space(.)='${text}']`;

  if (selector !== null) {
    const parentSelector = getElementByReference(selector);
    await checkIfElementExists(parentSelector);
    const element = await $(parentSelector).$(textSelector);
    await element.click();
  } else {
    await checkIfElementExists(textSelector);
    await $(textSelector).click();
  }
};
