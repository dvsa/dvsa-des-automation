import { getElementByReference } from '../../../helpers/element-reference-helper';

/**
 * Wait for the page transition to disappear in ionic apps
 * @param  {String}   selector      Element selector string
 */

export default async (
  selector: string,
) => {
  const elementSelector: string = getElementByReference(selector);

  await browser.waitUntil(
    async () => await $(elementSelector).getAttribute('aria-selected') === 'true',
    {
      timeout: 5000,
      timeoutMsg: 'Was not selected after 5s',
    },
  );
};
